<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Elasticsearch | Veerendra's Blog</title>
<meta name=keywords content><meta name=description content="My Blog"><meta name=author content="Veerendra K"><link rel=canonical href=https://veerendra2.github.io/tags/elasticsearch/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://veerendra2.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://veerendra2.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://veerendra2.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://veerendra2.github.io/apple-touch-icon.png><link rel=mask-icon href=https://veerendra2.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://veerendra2.github.io/tags/elasticsearch/index.xml><link rel=alternate hreflang=en href=https://veerendra2.github.io/tags/elasticsearch/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Elasticsearch"><meta property="og:description" content="My Blog"><meta property="og:type" content="website"><meta property="og:url" content="https://veerendra2.github.io/tags/elasticsearch/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Elasticsearch"><meta name=twitter:description content="My Blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://veerendra2.github.io/ accesskey=h title="Veerendra's Blog (Alt + H)">Veerendra's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://veerendra2.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://veerendra2.github.io/posts/nuggets/ title=Nuggets><span>Nuggets</span></a></li><li><a href=https://veerendra2.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://veerendra2.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://veerendra2.github.io/tags/>Tags</a></div><h1>Elasticsearch
<a href=/tags/elasticsearch/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Elasticsearch Configuration Overview</h2></header><div class=entry-content><p>👉 This writeup is part of “Elasticsearch Deploy Docs” series.
Important Elasticsearch Configuration 📄 Official Docs
Mainly 3 configuration files
elasticsearch.yml - Elasticsearch config jvm.options - Elasticsearch JVM settings config log4j2.properties - Elasticsearch logging config Environment Variables
export the ES_PATH_CONF etc/default/elasticsearch (Sourced environment variables from. Recommended) Settings 📄 Official Docs
Before going to production, it is recommended go through be below elasticsearch configs. Refer sample_config directory for configuration
Configuration Description Configuration Reference Path settings Log and data config Refer here Cluster name Cluster name Refer here Node name Node name Refer here Network host IP address that elasticsearch bind on Refer here Discovery settings Cluster discovery and initial master config Refer here Heap size JVM heap memory configuration Recommended heap size should be half of system memory. Make sure min and max heap memory same value. Refer here Heap dump path Heap dump location path config Default config is sufficient. Refer here GC logging Garbage collection logging configuration Default config is sufficient. Refer here Temp directory Configure private temporary directory that Elasticsearch uses is excluded from periodic cleanup Important System Configuration 📄 Offical Docs
...</p></div><footer class=entry-footer><span title='2022-09-10 17:42:52 +0200 +0200'>September 10, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elasticsearch Configuration Overview" href=https://veerendra2.github.io/elasticsearch-deploy/config-overview/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Elasticsearch Installation</h2></header><div class=entry-content><p>👉 This writeup is part of “Elasticsearch Deploy Docs” series
Install 📄 Office Docs
Hardware Requirement 📄 Offical Docs
Resource Minimum Recommended Memory 16 GB 64 GB CPU 8 Cores 16 Disk Depends Depends JDK Installation Pick JVM compatibility version with elasticsearch from here Install OpenJDK from here Download and install JDK 11 (Another guide here) $ apt-get install openjdk-11-jdk -y $ java -version openjdk version "11.0.6" 2020-01-14 OpenJDK Runtime Environment (build 11.0.6+10-post-Ubuntu-1ubuntu118.04.1) OpenJDK 64-Bit Server VM (build 11.0.6+10-post-Ubuntu-1ubuntu118.04.1, mixed mode, sharing) Elasticsearch Installation Download latest elasticsearch from here (As of today the latest version is 7.6.2) Recommended to download/install package via .dep or PPA which postscripts creates user, groups and adds under systemd Install via apt-get from here
...</p></div><footer class=entry-footer><span title='2022-09-10 17:41:52 +0200 +0200'>September 10, 2022</span>&nbsp;·&nbsp;12 min&nbsp;·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elasticsearch Installation" href=https://veerendra2.github.io/elasticsearch-deploy/install/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Elasticsearch Upgrade</h2></header><div class=entry-content><p>👉 This writeup is part of “Elasticsearch Deploy Docs” series
Rolling Upgrade Elasticsearch 📄 Official Docs
⚠️ A rolling upgrade allows an Elasticsearch cluster to be upgraded one node at a time so upgrading does not interrupt service
As of now, the current latest version of elasticsearch is v7.7.1. Below procedure is for rolling upgrade from 7.6.2=>7.7.1.
1. Divide the cluster into 2 groups Example node names carbon-x
a. Non master-eligible nodes carbon-2 carbon-3 b. Master-eligible nodes carbon-1 Upgrade order (Important!)
...</p></div><footer class=entry-footer><span title='2022-09-10 17:40:52 +0200 +0200'>September 10, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elasticsearch Upgrade" href=https://veerendra2.github.io/elasticsearch-deploy/upgrade/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Elastalert Demo Config</h2></header><div class=entry-content><p>👉 This writeup is part of “Elasticsearch Deploy Docs” series
Elastalert 📄 Official docs 📂 Official project Repo
Elastalert is developed by Yelp written in python, queries docs in elasticsearch and send alerts depends on the rules.
Since Elastalert is not part of Elasticsearch plugin, we can install it where ever we want to.
Installation ❗ Refer elasticsearch-deploy-notes/elastalert for example config
$ sudo apt-get install python3-pip $ sudo pip3 install elastalert $ sudo pip3 install -U PyYAML $ mkdir -p /opt/elastalert/rules ## Copy alert rules yaml files and config file to /opt/elastalert and /opt/elastalert/rules accordingly from this repo Recommended to create index in elasticsearch for elastalert to store metadata $ elastalert-create-index Elastic Version: 7.7.0 Reading Elastic 6 index mappings: Reading index mapping 'es_mappings/6/silence.json' Reading index mapping 'es_mappings/6/elastalert_status.json' Reading index mapping 'es_mappings/6/elastalert.json' Reading index mapping 'es_mappings/6/past_elastalert.json' Reading index mapping 'es_mappings/6/elastalert_error.json' New index elastalert_status created Done! Test rules in case if it is needed $ elastalert-test-rule --config /opt/elastalert/config.yaml /opt/elastalert/rules/heartbeat_checks.yml Postfix Gmail SMTP In oder to use Gmail as SMTP, you need to enable 2-Factor authentication and generate app password
...</p></div><footer class=entry-footer><span title='2022-09-10 17:38:52 +0200 +0200'>September 10, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elastalert Demo Config" href=https://veerendra2.github.io/elasticsearch-deploy/elastalert-demo/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://veerendra2.github.io/>Veerendra's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>