<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Elasticsearch Deployment Docs | Veerendra's Blog</title><meta name=keywords content><meta name=description content="Hello guys, this documentation on elasticsearch cluster deploy was old and creates two years ago. I kept in my github repo for long time, but I now decided to copy to my blog.
âš ï¸ These docs have been old, I have added official docs links to each section for reference, so readers be aware of it!"><meta name=author content="Veerendra K"><link rel=canonical href=https://veerendra2.github.io/posts/elasticsearch-deploy/><link crossorigin=anonymous href=/assets/css/stylesheet.min.1e44d58192cbf6d7a4eb649bc43dbc3d4cc432677e5d8adc69b08c34cbe461ac.css integrity="sha256-HkTVgZLL9tek62SbxD28PUzEMmd+XYrcabCMNMvkYaw=" rel="preload stylesheet" as=style><link rel=icon href=https://veerendra2.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://veerendra2.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://veerendra2.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://veerendra2.github.io/apple-touch-icon.png><link rel=mask-icon href=https://veerendra2.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.110.0"><link rel=alternate type=application/rss+xml href=https://veerendra2.github.io/posts/elasticsearch-deploy/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5486872721715518" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-112970252-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Elasticsearch Deployment Docs"><meta property="og:description" content="My Blog"><meta property="og:type" content="website"><meta property="og:url" content="https://veerendra2.github.io/posts/elasticsearch-deploy/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Elasticsearch Deployment Docs"><meta name=twitter:description content="My Blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://veerendra2.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Elasticsearch Deployment Docs","item":"https://veerendra2.github.io/posts/elasticsearch-deploy/"}]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://veerendra2.github.io accesskey=h title="Veerendra's Blog (Alt + H)">Veerendra's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://veerendra2.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://veerendra2.github.io/posts/nuggets/ title=Nuggets><span>Nuggets</span></a></li><li><a href=https://veerendra2.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://veerendra2.github.io>Home</a>&nbsp;Â»&nbsp;<a href=https://veerendra2.github.io/posts/>Posts</a></div><h1>Elasticsearch Deployment Docs</h1></header><div class=post-content><p><a href=https://github.com/veerendra2/elasticsearch-deploy-notes><img src="https://img.shields.io/badge/Github Repo-veerendra2%2Felasticsearch--deploy--notes-blue?style=for-the-badge"></a>
Hello guys, this documentation on elasticsearch cluster deploy was old and creates two years ago. I kept in my <a href=https://github.com/veerendra2/elasticsearch-deploy-notes>github repo</a> for long time, but I now decided to copy to my blog.</p><blockquote><p>âš ï¸ These docs have been old, I have added official docs links to each section for reference, so readers be aware of it!</p></blockquote></div><article class=post-entry><header class=entry-header><h2>Elasticsearch Configuration Overview</h2></header><section class=entry-content><p>ğŸ‘‰ This writeup is part of â€œElasticsearch Deploy Docsâ€ series.
Important Elasticsearch Configuration ğŸ“„ Official Docs
Mainly 3 configuration files
elasticsearch.yml - Elasticsearch config jvm.options - Elasticsearch JVM settings config log4j2.properties - Elasticsearch logging config Environment Variables
export the ES_PATH_CONF etc/default/elasticsearch (Sourced environment variables from. Recommended) Settings ğŸ“„ Official Docs
Before going to production, it is recommended go through be below elasticsearch configs. Refer sample_config directory for configuration
Configuration Description Configuration Reference Path settings Log and data config Refer here Cluster name Cluster name Refer here Node name Node name Refer here Network host IP address that elasticsearch bind on Refer here Discovery settings Cluster discovery and initial master config Refer here Heap size JVM heap memory configuration Recommended heap size should be half of system memory....</p></section><footer class=entry-footer><span title='2022-09-10 17:42:52 +0200 +0200'>September 10, 2022</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elasticsearch Configuration Overview" href=https://veerendra2.github.io/elasticsearch-deploy/config-overview/></a></article><article class=post-entry><header class=entry-header><h2>Elasticsearch Installation</h2></header><section class=entry-content><p>ğŸ‘‰ This writeup is part of â€œElasticsearch Deploy Docsâ€ series
Install ğŸ“„ Office Docs
Hardware Requirement ğŸ“„ Offical Docs
Resource Minimum Recommended Memory 16 GB 64 GB CPU 8 Cores 16 Disk Depends Depends JDK Installation Pick JVM compatibility version with elasticsearch from here Install OpenJDK from here Download and install JDK 11 (Another guide here) $ apt-get install openjdk-11-jdk -y $ java -version openjdk version "11.0.6" 2020-01-14 OpenJDK Runtime Environment (build 11....</p></section><footer class=entry-footer><span title='2022-09-10 17:41:52 +0200 +0200'>September 10, 2022</span>&nbsp;Â·&nbsp;12 min&nbsp;Â·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elasticsearch Installation" href=https://veerendra2.github.io/elasticsearch-deploy/install/></a></article><article class=post-entry><header class=entry-header><h2>Elasticsearch Upgrade</h2></header><section class=entry-content><p>ğŸ‘‰ This writeup is part of â€œElasticsearch Deploy Docsâ€ series
Rolling Upgrade Elasticsearch ğŸ“„ Official Docs
âš ï¸ A rolling upgrade allows an Elasticsearch cluster to be upgraded one node at a time so upgrading does not interrupt service
As of now, the current latest version of elasticsearch is v7.7.1. Below procedure is for rolling upgrade from 7.6.2=>7.7.1.
1. Divide the cluster into 2 groups Example node names carbon-x
a. Non master-eligible nodes carbon-2 carbon-3 b....</p></section><footer class=entry-footer><span title='2022-09-10 17:40:52 +0200 +0200'>September 10, 2022</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elasticsearch Upgrade" href=https://veerendra2.github.io/elasticsearch-deploy/upgrade/></a></article><article class=post-entry><header class=entry-header><h2>Kibana Installation</h2></header><section class=entry-content><p>ğŸ‘‰ This writeup is part of â€œElasticsearch Deploy Docsâ€ series
Kibana Installation ğŸ“„ Office docs
â— The elasticsearch should be up and running before you start kibana installation procedure
Install via apt-get from here
As of today the kibana version is 7.6.2 $ wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add - $ sudo apt-get install apt-transport-https $ echo "deb https://artifacts.elastic.co/packages/7.x/apt stable main" | sudo tee -a /etc/apt/sources.list.d/elastic-7.x.list $ sudo apt-get update && sudo apt-get install kibana Configure Kibana Refer kibana....</p></section><footer class=entry-footer><span title='2022-09-10 17:39:52 +0200 +0200'>September 10, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Kibana Installation" href=https://veerendra2.github.io/elasticsearch-deploy/kabana-install/></a></article><article class=post-entry><header class=entry-header><h2>Elastalert Demo Config</h2></header><section class=entry-content><p>ğŸ‘‰ This writeup is part of â€œElasticsearch Deploy Docsâ€ series
Elastalert ğŸ“„ Official docs ğŸ“‚ Official project Repo
Elastalert is developed by Yelp written in python, queries docs in elasticsearch and send alerts depends on the rules.
Since Elastalert is not part of Elasticsearch plugin, we can install it where ever we want to.
Installation â— Refer elasticsearch-deploy-notes/elastalert for example config
$ sudo apt-get install python3-pip $ sudo pip3 install elastalert $ sudo pip3 install -U PyYAML $ mkdir -p /opt/elastalert/rules ## Copy alert rules yaml files and config file to /opt/elastalert and /opt/elastalert/rules accordingly from this repo Recommended to create index in elasticsearch for elastalert to store metadata $ elastalert-create-index Elastic Version: 7....</p></section><footer class=entry-footer><span title='2022-09-10 17:38:52 +0200 +0200'>September 10, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Veerendra K</footer><a class=entry-link aria-label="post link to Elastalert Demo Config" href=https://veerendra2.github.io/elasticsearch-deploy/elastalert-demo/></a></article></main><footer class=footer><span>&copy; 2023 <a href=https://veerendra2.github.io>Veerendra's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>